import{a as s}from"./chunk-BLXWA4ID.js";import{a as l}from"./chunk-3W6LJROD.js";import{g as c}from"./chunk-TEIXOV6V.js";import{O as a,T as n,o as i}from"./chunk-5T4QEHQE.js";var m=class e{httpClient=n(c);mainStore=n(l);baseURL=s.apiURL+"login";async logged(r,o){try{let{token:t}=await i(this.httpClient.post(this.baseURL,{email:r,password:o}));s,console.log(t),this.mainStore.token=t,localStorage.setItem("token",t);let u=await i(this.httpClient.get(this.baseURL));this.mainStore.user.set(u)}catch{throw new Error("Credenciales incorrectas")}}token(){return this.mainStore.token?this.mainStore.token:localStorage.getItem("token")}userId(){return this.mainStore.user()?.id_usuario??null}static \u0275fac=function(o){return new(o||e)};static \u0275prov=a({token:e,factory:e.\u0275fac,providedIn:"root"})};export{m as a};
