import{A,U as D,b as U,da as P,e as E,ea as q,fa as k,ja as G,qa as O,ra as j,s as N,sa as z,t as B,u as T,v as R,w as L,z as x}from"./chunk-TEIXOV6V.js";import{Fa as b,Jb as V,Ka as M,Kb as y,Ta as S,Ua as h,Va as F,Wa as f,Xa as n,Y as d,Ya as t,Z as p,fb as C,ib as W,jb as w,qb as v,sa as l,sb as m,ub as I,vb as g,wb as c,xb as _}from"./chunk-5T4QEHQE.js";function J(s,r){if(s&1&&(n(0,"ion-select-option",11),m(1),t()),s&2){let e=r.$implicit;f("value",e),l(),I(" ",e.nombre," ")}}function K(s,r){if(s&1){let e=C();n(0,"ion-item",6)(1,"ion-label",2),m(2,"Rol"),t(),n(3,"ion-select",10),_("ngModelChange",function(a){d(e);let u=w();return c(u.user().roles,a)||(u.user().roles=a),p(a)}),h(4,J,2,2,"ion-select-option",11,S),t()()}if(s&2){let e=w();l(3),f("compareWith",e.compareWith),g("ngModel",e.user().roles),l(),F(e.roles())}}var H=class s{user=y({email:"",nombre:"",password:"",activo:!0,roles:[]});roles=y.required();isAdmin(){let r=this.user()?.roles;if(!r)return!1;for(let e of r)if(e.nombre==="administracion")return!0;return!1}saved=V();compareWith(r,e){return r&&e?r.id_rol===e.id_rol:r===e}handleSubmit(){this.saved.emit(this.user())}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=b({type:s,selectors:[["app-usuario-form"]],inputs:{user:[1,"user"],roles:[1,"roles"]},outputs:{saved:"saved"},decls:22,vars:6,consts:[["usuarioForm","ngForm"],[3,"ngSubmit"],["position","stacked"],["type","text","name","nombre","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["lines","none"],["name","activo",3,"ngModelChange","ngModel"],["lines","none",4,"ngIf"],["type","submit","expand","block",3,"disabled"],["name","roles","multiple","true","placeholder","Seleccionar roles",3,"ngModelChange","compareWith","ngModel"],[3,"value"]],template:function(e,i){if(e&1){let a=C();n(0,"form",1,0),W("ngSubmit",function(){return d(a),p(i.handleSubmit())}),n(2,"ion-list")(3,"ion-item")(4,"ion-label",2),m(5,"Nombre"),t(),n(6,"ion-input",3),_("ngModelChange",function(o){return d(a),c(i.user().nombre,o)||(i.user().nombre=o),p(o)}),t()(),n(7,"ion-item")(8,"ion-label",2),m(9,"Email"),t(),n(10,"ion-input",4),_("ngModelChange",function(o){return d(a),c(i.user().email,o)||(i.user().email=o),p(o)}),t()(),n(11,"ion-item")(12,"ion-label",2),m(13,"Contrase\xF1a"),t(),n(14,"ion-input",5),_("ngModelChange",function(o){return d(a),c(i.user().password,o)||(i.user().password=o),p(o)}),t()(),n(15,"ion-item",6)(16,"ion-label"),m(17,"Activo"),t(),n(18,"ion-toggle",7),_("ngModelChange",function(o){return d(a),c(i.user().activo,o)||(i.user().activo=o),p(o)}),t()(),M(19,K,6,2,"ion-item",8),t(),n(20,"ion-button",9),m(21," GUARDAR CAMBIOS "),t()()}if(e&2){let a=v(1);l(6),g("ngModel",i.user().nombre),l(4),g("ngModel",i.user().email),l(4),g("ngModel",i.user().password),l(4),g("ngModel",i.user().activo),l(),f("ngIf",i.isAdmin()),l(),f("disabled",a.invalid)}},dependencies:[E,U,A,L,N,B,x,R,T,P,q,O,z,k,D,j,G],encapsulation:2})};export{H as a};
