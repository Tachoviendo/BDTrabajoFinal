import{a as j}from"./chunk-QPFGTPJK.js";import{a as B}from"./chunk-BLXWA4ID.js";import"./chunk-3W6LJROD.js";import{R as k,U as y,V as T,W as A,X as $,Y as N,_ as V,aa as M,da as O,ea as R,fa as U,g as x,k as S,m as L,ma as F}from"./chunk-TEIXOV6V.js";import{Fa as D,Hb as E,Kb as C,O as b,T as s,Ua as g,Va as z,Xa as o,Y as _,Ya as i,Z as f,ea as h,fb as P,ib as c,jb as I,o as v,sa as l,sb as r,tb as d,ub as w}from"./chunk-5T4QEHQE.js";import"./chunk-6GMPNWKN.js";import"./chunk-GIEMQNDR.js";import"./chunk-WQS6UKMC.js";import"./chunk-HVWPZZJ7.js";import"./chunk-HSZY262W.js";import"./chunk-VSDHJBUA.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-NWJ5J3BN.js";var p=class n{baseURL(e,t){return B.apiURL+`usuarios/${e}/pozos/${t}/intervalo_diametro_perforacion`}authService=s(j);httpClient=s(x);getUserIdOrThrow(){let e=this.authService.userId();if(!e)throw new Error("No se encontr\xF3 id_usuario autenticado");return e}async getIntervalosDiametros(e){let t=this.getUserIdOrThrow();return await v(this.httpClient.get(this.baseURL(t,e)))}async deleteIntervaloDiametro(e,t){let a=this.getUserIdOrThrow();await v(this.httpClient.delete(`${this.baseURL(a,e)}/${t.id_intervalo_diametro_perforacion}`))}static \u0275fac=function(t){return new(t||n)};static \u0275prov=b({token:n,factory:n.\u0275fac,providedIn:"root"})};var q=(n,e)=>e.id_intervalo_diametro_perforacion;function G(n,e){if(n&1){let t=P();o(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),r(3),i()(),o(4,"ion-card-content")(5,"ion-list")(6,"ion-item")(7,"ion-label"),r(8,"Desde (m)"),i(),o(9,"ion-label"),r(10),i()(),o(11,"ion-item")(12,"ion-label"),r(13,"Hasta (m)"),i(),o(14,"ion-label"),r(15),i()(),o(16,"ion-item")(17,"ion-label"),r(18,"Di\xE1metro (mm)"),i(),o(19,"ion-label"),r(20),i()()(),o(21,"ion-button",4),c("click",function(){let m=_(t).$implicit,u=I();return f(u.irAEditar(m))}),r(22," Editar "),i(),o(23,"ion-button",5),c("click",function(){let m=_(t).$implicit,u=I();return f(u.borrarIntervaloDiam(m))}),r(24," Borrar "),i()()()}if(n&2){let t=e.$implicit;l(3),w(" Intervalo Diametro: ",t.id_intervalo_diametro_perforacion," "),l(7),d(t.desde_m),l(5),d(t.hasta_m),l(5),d(t.diametro_pulg)}}var W=class n{intervaloDiametroListService=s(p);intervalosDiametros=h([]);ruta=s(S);id_pozo=C.required();router=s(L);ngOnInit(){let e=this.id_pozo();e=Number(this.ruta.snapshot.paramMap.get("id_pozo")),this.cargarNivelesAporte()}ionViewWillEnter(){let e=this.id_pozo();e=Number(this.ruta.snapshot.paramMap.get("id_pozo")),this.cargarNivelesAporte()}async cargarNivelesAporte(){if(!this.id_pozo)throw new Error("Pozo no encontrado");let e=await this.intervaloDiametroListService.getIntervalosDiametros(this.id_pozo());this.intervalosDiametros.set(e),this.ionViewWillEnter()}intDiamResource=E({params:()=>({idPozo:this.id_pozo()}),loader:({params:e})=>this.intervaloDiametroListService.getIntervalosDiametros(e.idPozo)});async borrarIntervaloDiam(e){let t=this.id_pozo();if(!t)throw new Error("Pozo no encontrado");await this.intervaloDiametroListService.deleteIntervaloDiametro(t,e)}irAEditar(e){let t=this.id_pozo();this.router.navigate([`/pozos/${t}/intervalos-diametros-edit/${e.id_intervalo_diametro_perforacion}`])}irACrear(){let e=this.id_pozo();this.router.navigate([`/pozos/${e}/intervalos-diametros-create`])}irAtras(){this.router.navigate(["/pozos-list"])}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=D({type:n,selectors:[["app-intervalos-diametros-list"]],inputs:{id_pozo:[1,"id_pozo"]},decls:9,vars:0,consts:[["slot","end","color","primary"],["color","primary","fill","solid",3,"click"],["slot","start","color","primary"],["default-href","#","color","primary",3,"click"],[3,"click"],["color","danger",3,"click"]],template:function(t,a){t&1&&(o(0,"ion-content")(1,"ion-toolbar")(2,"ion-buttons",0)(3,"ion-button",1),c("click",function(){return a.irACrear()}),r(4," Crear Intervalo Diametro "),i()(),o(5,"ion-buttons",2)(6,"ion-back-button",3),c("click",function(){return a.irAtras()}),i()()(),g(7,G,25,4,"ion-card",null,q),i()),t&2&&(l(7),z(a.intervalosDiametros()))},dependencies:[$,U,O,R,y,V,N,A,M,F,T,k],styles:["ion-header[_ngcontent-%COMP%], ion-toolbar[_ngcontent-%COMP%]{--background: transparent}"]})};export{W as IntervalosDiametrosListPage};
