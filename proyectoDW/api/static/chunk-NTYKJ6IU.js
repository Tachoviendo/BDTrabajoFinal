import{a as O}from"./chunk-BLXWA4ID.js";import{U as k,W as R,X as V,Y as F,_ as M,aa as j,d as w,da as T,ea as $,fa as D,g as y,m as P}from"./chunk-TEIXOV6V.js";import{Ab as h,Bb as S,Fa as U,O as _,T as l,Ua as v,Va as C,Xa as i,Y as b,Ya as o,Z as g,ea as I,fb as E,ib as x,jb as u,o as f,sa as a,sb as n,tb as c,ub as L}from"./chunk-5T4QEHQE.js";import"./chunk-6GMPNWKN.js";import"./chunk-GIEMQNDR.js";import"./chunk-WQS6UKMC.js";import"./chunk-HVWPZZJ7.js";import"./chunk-HSZY262W.js";import"./chunk-VSDHJBUA.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-4YRHGV2P.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import"./chunk-NWJ5J3BN.js";var m=class r{baseURL=O.apiURL+"usuarios";httpClient=l(y);async getListaUsuarios(){return await f(this.httpClient.get(this.baseURL))}async deleteUsuario(e){await f(this.httpClient.delete(`${this.baseURL}/${e}`))}static \u0275fac=function(t){return new(t||r)};static \u0275prov=_({token:r,factory:r.\u0275fac,providedIn:"root"})};var A=(r,e)=>e.id_usuario;function B(r,e){if(r&1){let t=E();i(0,"ion-card")(1,"ion-card-header")(2,"ion-card-title"),n(3),o()(),i(4,"ion-card-content")(5,"ion-list")(6,"ion-item")(7,"ion-label"),n(8,"Email"),o(),i(9,"ion-label"),n(10),o()(),i(11,"ion-item")(12,"ion-label"),n(13,"Activo"),o(),i(14,"ion-label"),n(15),o()(),i(16,"ion-item")(17,"ion-label"),n(18,"Fecha de registro"),o(),i(19,"ion-label"),n(20),h(21,"date"),o()(),i(22,"ion-item")(23,"ion-label"),n(24,"Roles"),o(),i(25,"ion-label"),n(26),o()()(),i(27,"ion-button",0),x("click",function(){let d=b(t).$implicit,p=u();return g(p.irAEditar(d))}),n(28,"Editar"),o(),i(29,"ion-button",1),x("click",function(){let d=b(t).$implicit,p=u();return g(p.borrarUser(d))}),n(30," Borrar "),o()()()}if(r&2){let t=e.$implicit,s=u();a(3),L("Nombre: ",t.nombre),a(7),c(t.email),a(5),c(t.activo),a(5),c(S(21,5,t.fecha_registro,"dd/MM/yyyy")),a(6),c(s.getRoles(t))}}var N=class r{usuarioListService=l(m);router=l(P);usuarios=I([]);async ngOnInit(){let e=await this.usuarioListService.getListaUsuarios();this.usuarios.set(e)}async ionViewWillEnter(){let e=await this.usuarioListService.getListaUsuarios();this.usuarios.set(e)}getRoles(e){return e.roles?e.roles.map(t=>t.nombre).join(", "):"Sin Rol"}irAEditar(e){this.router.navigate(["/usuarios-edit",e.id_usuario])}async borrarUser(e){await this.usuarioListService.deleteUsuario(e.id_usuario),this.ionViewWillEnter()}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=U({type:r,selectors:[["app-usuarios-list"]],decls:3,vars:0,consts:[[3,"click"],["color","danger",3,"click"]],template:function(t,s){t&1&&(i(0,"ion-content"),v(1,B,31,8,"ion-card",null,A),o()),t&2&&(a(),C(s.usuarios()))},dependencies:[k,R,F,M,V,D,T,$,j,w],styles:[".columna[_ngcontent-%COMP%]{background-color:#5f5cf5;color:#fff;font-weight:700;text-align:center}ion-col[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;text-align:center;background-color:#7882df;border:solid .1px #fff;color:#fff}"]})};export{N as UsuariosListPage};
